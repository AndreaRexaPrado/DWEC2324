<html>
    <head>
        <meta charset="UTF-8">
        <title>Ejercicio 1</title>
    </head>
    <body>
        <p id="caminata"></p>
        <script>
            function caminata(minutos){
            let arrayCaminata=[]; //Array que almacena las letras
                while(true){
                    arrayCaminata=[];//Se vacia el array en cada vuelta
                    //Bucle que rellena el array con las letras mediante un numero aleatorio ente 1 y 4, se usa el toFixed para quitar los decimales
                    for(let contador = 0;contador<minutos;contador++){
                        let numRandom = (Math.random()*3)+1;
                        
                        let letra="";
                        switch(parseInt(numRandom.toFixed(0))){
                            case 1:
                                letra = "n";
                            break;
                            case 2:
                                letra = "s";
                            break;
                            case 3:
                                letra = "o";
                            break;
                            case 4:
                                letra = "e";
                            break;
                        }
                        arrayCaminata.push(letra);
                    }
                    
                    //Se cuentan los n s o e, cada norte implica ir una vez al sur y lo mismo para el oeste y el este
                    //Es decir se suman todos norte,sur... para luego restarlo con su contrario
                    
                    let contadorN=0;
                    let contadorS=0;
                    let contadorO=0;
                    let contadorE=0;
                    for(let contador = 0; contador <= arrayCaminata.length-1;contador++){
                        switch(arrayCaminata[contador]){

                            case "n":
                            contadorN++;
                            break;
                            case "s":
                            contadorS++;
                            break;
                            case "o":
                            contadorO++;
                            break;
                            case "e":
                            contadorE++;
                            break;  
                            }
                    }
                    //Si la resta de los contadores contrarios es igual a 0 saldra del bucle infinito retornanado el array correcto
                    if((contadorN-contadorS) == 0 && (contadorO-contadorE) == 0){
                        break;
                    }
                    
                }

                return arrayCaminata;
            }
            //Funcion que recorre el array e imprime graficamente las instrucciones
            function imprimirInstrucciones(array){
                let instruc="";
                for(let contador = 0; contador <= array.length-1;contador++){
                        switch(array[contador]){

                            case "n":
                                instruc +="Ve hacia el norte<br>";
                            break;
                            case "s":
                                instruc +="Ve hacia el sur<br>";
                            break;
                            case "o":
                                instruc +="Ve hacia el oeste<br>";
                            break;
                            case "e":
                                instruc +="Ve hacia el este<br>";
                            break;  
                            }
                    }
                document.getElementById("caminata").innerHTML=instruc;
            }
            //imprimirInstrucciones(caminata(8));
            //imprimirInstrucciones(caminata(12));

            //Si el usario mete una letra, nada, un numero que no este en el rango o un numero impar se lo vuelve a pedir
            let num = parseInt(prompt("Dame un numero par entre 6 y 16 "));
            while(isNaN(num) || num == null || (num < 6 || num > 16) || num%2!=0) {
                num = parseInt(prompt("Dame un numero par entre 6 y 16"));
            }
            imprimirInstrucciones(caminata(num));
        </script>
    </body>
</html>