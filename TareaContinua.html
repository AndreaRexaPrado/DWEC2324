<html>
    <head>
        <meta charset="UTF-8">
        <title>Tarea continua</title>
    </head>
    <body>
        
        <script>
            function showContact(array, indice){
                if(array instanceof Array && typeof(indice)== "number"){
                    alert("Contacto: "+ array[indice].nombre + " / " + array[indice].telefono + " / " + array[indice].correo);
                }
            }
            function showAllContact(array){
                if(array instanceof Array ){
                    let contactos="";
                    arrayContactos.forEach(function(contacto) {
                        contactos+="Contacto: "+contacto.nombre + " / " + contacto.telefono + " / " + contacto.correo + "\n";
                    });
                    alert(contactos);
                }
            }
            function addNewContact(array,nombre,telf,correo){
                if(array instanceof Array&&nombre!==""&&telf!==""&&correo!==""){
                        //Se añade
                        array.push({nombre: nombre,
                                    telefono: telf,
                                    correo: correo});
                    }    
            }
            function ordArray(array,ord){

                switch(ord){
                        case "1":
                        array.sort((a,b)=>{ 
                            if(a.nombre.localeCompare(b.nombre)){
                                return -1;
                            }
                            if(b.nombre.localeCompare(a.nombre)){
                                return 1;
                            }
                            return 0;
                        });
                        break;
                        case "2":
                        array.sort((a,b)=>{ 
                            if(a.telefono.localeCompare(b.telefono)){
                                return -1;
                            }
                            if(b.telefono.localeCompare(a.telefono)){
                                return 1;
                            }
                            return 0;
                        });
                        break;
                        case "3":
                        array.sort((a,b)=>{ 
                            if(a.correo.localeCompare(b.correo)){
                                return -1;
                            }
                            if(b.correo.localeCompare(a.correo)){
                                return 1;
                            }
                            return 0;
                        });
                        break;
                    }

            }
            //Declara e inicializa las variables donde se almacenara toda la informacion (en esta version en una sola, en un array)
            let arrayContactos = [{nombre:"Maxwell Wright",
                                   telefono: "(0191)7196495",
                                   correo: "MaxwellWright@nonummyac.co.uk"},
                                   {nombre:"Raja Villareal",
                                   telefono: "08663982895",
                                   correo: "RajaVillareal@sed.com"},
                                   {nombre:"Helen Richards",
                                   telefono: "08001111",
                                   correo: "libero@convallis.edu"}];
            
                                   let bucle=true;   

            while(bucle){

                                 
            let opcion = prompt("Mostrar el primer contacto (primero)\n"+
                                "Mostrar el último contacto (ultimo)\n"+
                                "Mostrar todos contactos (todos)\n"+
                                "Añadir un nuevo contacto (nuevo)\n"+
                                "Ordenar agenda (ordernar)\n"+
                                "Salir del programa(Salir)");
            switch(opcion){
                case "primero":
                    showContact(arrayContactos,0);
                    break;
                case "ultimo":
                    showContact(arrayContactos,arrayContactos.length-1);
                    break;
                case "todos":
                    showAllContact(arrayContactos);
                    break;
                case "nuevo": 
                    //Se piden datos del usuario
                    let userNombre = prompt("Dame el nombre del contacto");
                    let userTelefono = prompt("Dame el telefono del contacto");
                    let userCorreo = prompt("Dame el correo del contacto");
                     
                    addNewContact(arrayContactos,userNombre,userTelefono,userCorreo);
                   // console.log("Ultimo contacto: "+ arrayContactos[arrayContactos.length-1].nombre + " / " + arrayContactos[arrayContactos.length-1].telefono + " / " + arrayContactos[arrayContactos.length-1].correo);          
                    break;
                case "ordenar":
                    let ord= prompt("Porque quieres ordenar?:\n"+ 
                                    "1(nombre)\n"+
                                    "2(correo)\n"+
                                    "3(nombre)");
                    ordArray(arrayContactos,ord);
                    showAllContact(arrayContactos);

                    break;
                case "salir":
                    alert("Saliendo...");
                    bucle=false;
                    break;
                default:
                    console.log(opcion);
                    alert("Opcion incorrecta");
                    break;
                }
            } 
        </script>
    </body>
</html>